{{fa-icon "share-alt"}}

{{#if showShareOptionsModal}}
  {{#tether-dialog
    close=(action 'toggleShareOptionsModal')
    target=(concat '#' elementId)
    targetAttachment='bottom left'
    attachment='top left'
    translucentOverlay=false
    container-class='share-options-modal'
    constraints=shareOptionsModalConstraints
  }}
    {{share-options
      shareUrl=shareUrl
      actionableId=actionableId
      onEnvelopeClick=(action (if session.isAuthenticated 'toggleShareEmailModal' 'toggleCreateAccountModal'))
    }}
  {{/tether-dialog}}
{{/if}}

{{#if showShareEmailModal}}
  {{#repositive-modal
    container-class='c-modal--small'
    close=(action 'toggleShareEmailModal')
  }}
    {{repositive-modal/header
      icon='envelope'
      title='Share this dataset'
      onClose=(action 'toggleShareEmailModal')
    }}
    {{#repositive-modal/content}}
      {{share-by-email-form
        actionableId=actionableId
        actionableType=actionableType
        onClose=(action 'toggleShareEmailModal')
      }}
    {{/repositive-modal/content}}
  {{/repositive-modal}}
{{/if}}

{{#if showCreateAccountModal}}
  {{#repositive-modal
    container-class='c-modal--small'
    close=(action 'toggleCreateAccountModal')
  }}
    {{repositive-modal/header
      icon='envelope'
      title='Share via email'
      onClose=(action 'toggleCreateAccountModal')
    }}
    {{#repositive-modal/content}}
      {{create-account-modal-content text='To share this dataset via email you need to have an account.'}}
    {{/repositive-modal/content}}
  {{/repositive-modal}}
{{/if}}