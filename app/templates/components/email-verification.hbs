{{#if addingCredential}}
  <div class="u-flex u-py1">
    <div class="u-mr1">
      {{validated-input
        label='Email Address'
        value=newEmail
        submit=(action 'resendVerifyEmail')
        errors=validations.attrs.email.messages
        placeholder='e.g. liz@repositive.io'
        noMarkdown=true
        noMsgContainer=true
      }}
    </div>

    <div class="u-flex u-items-end">
      {{async-button
        class="c-btn c-btn-primary"
        action=(action 'saveNewCredential')
        default="Save"
        pending="Saving..."
        disableWhen=isDisabled
        reset=true
      }}
    </div>
  </div>
  {{#if sentEmail}}
    <div class="u-flex">
      <p class="u-tc-red u-mb0 u-mr1">Your email hasn't been verified.</p>
      <a class="u-tc-secondary u-td-underline" {{action 'resendVerifyEmail'}}>Resend Verification Email.</a>
    </div>
    <p class="u-fs1 u-fw-reg u-tc-tertiary">We'll keep using your old email address ({{credential.main_credential.email}}) until your new address is verified.</p>
  {{/if}}
{{else}}
  <div class="u-flex u-items-center u-justify-between u-mb1">
    <p class="u-mb0 u-fs2">Primary Email</p>
    <p class="u-tc-teal u-fw-med u-mb0 u-fs2">Your email is verified.</p>
  </div>
  <div class="u-flex u-mb3">
    <p class="u-mb0 u-mr1">{{credential.main_credential.email}}</p>
    <a class="u-tc-secondary u-td-underline" {{action 'addCredential'}}>Add New Credential</a>
  </div>
  <div>
    <p class="u-mb0 u-fs2">Secondary Emails</p>
    {{#each credential.all_credentials as |credential|}}
      <p>{{credential.email}}</p>
    {{/each}}
  </div>
{{/if}}
