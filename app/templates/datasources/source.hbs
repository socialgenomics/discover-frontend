{{meta-panel
  addFilter=(action 'addFilter')
  removeFilter=(action 'removeFilter')
  collectionStats=model.collectionStats
  model=model.collection
  filters=model.aggs
  activeFilters=activeFilters
  isLoading=isLoading
  datasets=model.datasets
  class="bc-datasource theme-dark"
}}

<div class="grid-wrapper grid-wrapper-stepped">
  {{#if isLoading}}
    {{partial 'loading'}}
  {{else}}
    <h3 class="mb0 fs3">Datasets</h3>
    {{#if (gt model.meta.total 0)}}
      <div class="flex justify-between mb4">
        <p class="mb0">Results: <span class="fw-med">{{model.meta.total}}</span></p>

        {{results-select resultsOptions=resultsOptions resultsPerPage=resultsPerPage setResultsPerPage=(action 'setResultsPerPage')}}
      </div>
    {{/if}}

    {{search-results-list results=model.datasets totalResults=model.meta.total type='dataset'}}

    {{#if (gt model.meta.total 0)}}
      {{r-pagination
        totalPages=totalPages
        currentPageNumber=page
        nextPage=(action 'nextPage')
        previousPage=(action 'previousPage')
        goToPage=(action 'goToPage')
       }}
    {{/if}}
  {{/if}}
</div>
